<div class="gallery-container">
    <!-- Hero Section -->
    <div class="gallery-hero">
        <h1 class="hero-title">
            <span *ngIf="currentView === 'artists'">Nos Artistes</span>
            <span *ngIf="currentView === 'tableaux'">Œuvres de {{ selectedArtist?.nom }} {{ selectedArtist?.prenom }}</span>
        </h1>
        <p class="hero-subtitle">
            <span *ngIf="currentView === 'artists'">Découvrez nos artistes talentueux</span>
            <span *ngIf="currentView === 'tableaux'">Explorez la collection de cet artiste</span>
        </p>
    </div>

    <!-- Navigation Section -->
    <div class="navigation-section" *ngIf="currentView === 'tableaux'">
        <button (click)="backToArtists()" class="back-btn">
            <i class="fas fa-arrow-left"></i> Retour aux artistes
        </button>
    </div>

    <!-- Filter Section -->
    <div class="filter-section">
        <div class="search-box">
            <input 
                type="text" 
                [(ngModel)]="searchTerm" 
                (input)="applySearch()"
                [placeholder]="currentView === 'artists' ? 'Rechercher un artiste...' : 'Rechercher une œuvre...'" 
                class="search-input"
            >
            <i class="fas fa-search search-icon"></i>
        </div>
    </div>

    <!-- Artists Grid -->
    <div class="gallery-grid" *ngIf="currentView === 'artists'" #galleryGrid>
        <div 
            *ngFor="let artist of filteredArtists" 
            class="artist-card"
            (click)="selectArtist(artist)"
        >
            <div class="artist-container">
                <div class="artist-image" [style.background-image]="'url(' + artist.image + ')'">
                    <div class="artist-overlay">
                        <div class="artist-info">
                            <h3>{{ artist.nom }} {{ artist.prenom }}</h3>
                            <p><i class="fas fa-envelope"></i> {{ artist.email }}</p>
                            <p><i class="fas fa-phone"></i> {{ artist.numero }}</p>
                            <button class="view-works-btn">
                                <i class="fas fa-palette"></i> Voir les œuvres
                            </button>
                        </div>
                    </div>
                </div>
                <div class="artist-content">
                    <h3>{{ artist.nom }} {{ artist.prenom }}</h3>
                    <p class="artist-contact">{{ artist.email }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tableaux Grid -->
    <div class="gallery-grid" *ngIf="currentView === 'tableaux'" #galleryGrid>
        <div 
            *ngFor="let tableau of filteredTableaux" 
            class="tableau-card"
        >
            <div class="tableau-container">
                <div class="tableau-image">
                    <img [src]="'https://karimablogcontainer.blob.core.windows.net/images/' + tableau.image" [alt]="tableau.titre" loading="lazy">
                    <div class="tableau-overlay">
                        <div class="tableau-info">
                            <h3>{{ tableau.titre }}</h3>
                            <p>{{ tableau.description }}</p>
                            <div class="tableau-details">
                                <span><i class="fas fa-palette"></i> {{ selectedArtist?.nom }} {{ selectedArtist?.prenom }}</span>
                                <span><i class="fas fa-tag"></i> {{ tableau.prix }} €</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tableau-content">
                    <h3>{{ tableau.titre }}</h3>
                    <div class="tableau-price">{{ tableau.prix }} €</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="currentView === 'artists' && filteredArtists.length === 0 && !loading" class="empty-state">
        <i class="fas fa-user-friends"></i>
        <p>Aucun artiste trouvé</p>
    </div>

    <div *ngIf="currentView === 'tableaux' && filteredTableaux.length === 0 && !loading" class="empty-state">
        <i class="fas fa-palette"></i>
        <p>Aucune œuvre trouvée pour cet artiste</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
        <div class="loader">
            <i class="fas fa-palette fa-spin"></i>
        </div>
        <p>
            <span *ngIf="currentView === 'artists'">Chargement des artistes...</span>
            <span *ngIf="currentView === 'tableaux'">Chargement des œuvres...</span>
        </p>
    </div>
</div>
